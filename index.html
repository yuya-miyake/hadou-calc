<!doctype html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="index.css">
        <title>三國志 覇道 拠点収支計算機</title>
    </head>
    <body>
        <div class="container">
            <h3 class="title">拠点収支計算</h3>

            <h6>注意点</h6>
            <div id="notes">
                <ul>
                    <li>モダンブラウザ（新しめのブラウザバージョン）で動作します。Internet Explorerでは動かないと思う。</li>
                    <li>拠点を獲得する前に、商店の<i>「生産品」</i>と<i>「軍団」</i>の<b>入荷</b>ボタンを押せる状態にしている前提の計算です。
                        拠点獲得と同時に入荷ボタンを押すことで、すぐに生産品を購入することができるので、最も効率的です。</li>
                    <li>侵攻不可時間は計算に含めていません。すべての拠点を占拠した時点で、直ちに全休戦符を使う前提です。</li>
                    <li>貢物は８時間きっかりで回収する前提です。８時間を超過して回収した場合、収入が計算結果を下回ります。</li>
                </ul>
            </div>
            
            <div id="params">
                <h6>全休符</h6>
                <dl id="barriers" class="row">
                    <dt class="col-8"> 4時間</dt>
                    <dd class="col-4"><input type="number" pattern="[0-9]*" inputmode="numeric" data-jewel="230" data-hours="4" class="amount" min="0"> 個</dd>
                    <dt class="col-8"> 8時間</dt>
                    <dd class="col-4"><input type="number" pattern="[0-9]*" inputmode="numeric" data-jewel="600" data-hours="8" class="amount" min="0"> 個</dd>
                    <dt class="col-8">24時間</dt>
                    <dd class="col-4"><input type="number" pattern="[0-9]*" inputmode="numeric" data-jewel="2300" data-hours="24" class="amount" min="0"> 個</dd>
                </dl>

                <!-- h6>任意遷都令
                <small>拠点占拠に使用する任意遷都令をコストに含めたい場合は入力してください</small></h6>
                <dl id="warp" class="row">
                    <dt class="col-8"></dt>
                    <dd class="col-4"><input type="number" pattern="[0-9]*" inputmode="numeric" class="amount" min="0"> 個</dd>
                </dl -->
                
                <h6>占拠時間</h6>
                <dl id="occupation" class="row">
                    <dt class="col-8"><a href="#" id="same_as_barriers">全休符と同時間を設定する</a></dt>
                    <dd class="col-4"><input type="number" pattern="[0-9]*" inputmode="numeric" class="amount" min="0"> 時間</dd>
                </dl>
                
                <h6>貢物(１回あたり）</h6>
                <div id="gifts" class="item-list"></div>
                
                <h6>生産品(１回あたり）</h6>
                <div id="products" class="item-list"></div>
            </div>
            
            
            <div id="result">
                <h6>収入</h6>
                <div id="acquired">
                    <dl class="row">
                        <dt class="col-8">宝玉</dt>
                        <dd class="col-4"><span class="jewel"></span>個相当</dd>
                    </dl>
                </div>
                
                <h6>費用</h6>
                <div id="consumption">
                    <dl class="row">
                        <dt class="col-8">宝玉(全休戦符費)</dt>
                        <dd class="col-4"><span class="jewel"></span>個</dd>
                        <dt class="col-8">銅銭(生産品購入費)</dt>
                        <dd class="col-4"><span class="money"></span>個</dd>
                    </dl>
                </div>
            </div>
            
            <template id="item-template">
                <dt class="col-8">{{name}}</dt>
                <dd class="col-4">
                    <input type="number" pattern="[0-9]*" inputmode="numeric" data-name="{{name}}" data-price="{{values.price}}" data-jewel="{{values.jewel}}" class="amount" min="0"> 個
                </dd>
            </template>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <!-- script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script -->
        <!-- script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script -->
        <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
        <script src="index.js"></script>
    </body>
</html>
